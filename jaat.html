<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text Share ğŸ”„</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0e1116;
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
}
textarea, input {
  width: 80%;
  margin: 8px;
  padding: 10px;
  border-radius: 8px;
  border: none;
}
button {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  background: #00c896;
  color: white;
  font-size: 16px;
}
#result { margin-top: 15px; }
</style>
</head>
<body>

<h2>ğŸ“© Text Share</h2>

<textarea id="sendText" placeholder="Type your message..."></textarea><br>
<button onclick="sendMessage()">Send & Get Code</button>

<hr style="width:80%;margin:20px;border:1px solid #333;">

<input id="recvCode" placeholder="Enter 6-digit code" /><br>
<button onclick="recvMessage()">Receive Message</button>

<div id="result"></div>

<script>
const BASE = "https://sad-pig-57.kannu-jaat.deno.net"; // ğŸ‘ˆ yahan tera URL hai

async function sendMessage() {
  const msg = document.getElementById("sendText").value.trim();
  if (!msg) return alert("Please type a message first!");
  const res = await fetch(`${BASE}/send`, { method: "POST", body: msg });
  const code = await res.text();
  document.getElementById("result").innerHTML = `âœ… Share this code: <b>${code}</b>`;
}

async function recvMessage() {
  const code = document.getElementById("recvCode").value.trim();
  if (!code) return alert("Enter your code!");
  const res = await fetch(`${BASE}/recv?code=${code}`);
  const text = await res.text();
  document.getElementById("result").innerHTML = text === "Not found"
    ? "âŒ Message expired or wrong code"
    : `ğŸ“¨ Received: <b>${text}</b>`;
}
</script>

</body>
</html>